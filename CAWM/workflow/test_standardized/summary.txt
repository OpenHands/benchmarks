CAWM Workflow Extraction Summary
========================================

Status: completed
Generated: 2025-12-03T00:21:14.529567
Trajectories processed: 5
Experiences extracted: 14

Configuration:
  Compression: key_step_extraction
  Clustering: action_sequence (threshold=0.7)
  Level: GENERAL
  Model: moonshotai/kimi-k2-0905

Experiences:
----------------------------------------

1. When NDDataRef arithmetic fails with mask propagation because one operand lacks a mask → The bitwise_or operation expects both operands to have masks, but None type has no 'mask' attribute
   Category: api_usage
   Steps: 1
     1. [api_usage] Check if operands have masks before applying handle_mask ope...

2. When fixing two-digit year parsing in HTTP dates following RFC 7231 → Years 00-69 represent 2000-2069, while years 70-99 represent 1970-1999, but this logic was missing o
   Category: refactoring
   Steps: 1
     1. [refactoring] Implement century mapping logic: if year < 70 add 2000, else...

3. When creating test cases for arithmetic operations involving optional components like masks → Edge cases where one operand has the component while the other doesn't expose hidden assumptions in 
   Category: testing
   Steps: 1
     1. [testing] Always test the four combinations: both have component, neit...

4. When modifying date parsing behavior that follows RFC specifications → RFC updates may change interpretation rules from older formats, but back-compatibility might exist o
   Category: refactoring
   Steps: 1
     1. [refactoring] Verify which RFC version the project targets (7231 vs 850 he...

5. When StatReloader occasionally raises 'ValueError: embedded null byte' during auto-reload → Path.stat() can fail when a watched file path contains a null byte injected by filesystem race condi
   Category: debugging
   Steps: 1
     1. [debugging] Wrap Path.stat() in try/except ValueError, treat the file as...

6. After upgrading Django and seeing non-deterministic crashes in autoreload code that used to be stable → The switch from os.stat() to pathlib.Path.stat() is stricter about malformed paths containing null b
   Category: refactoring
   Steps: 1
     1. [refactoring] Add defensive null-byte checks before stat() calls or revert...

7. When the reloader thread dies silently except for a one-off ValueError traceback → Stat polling loops that raise ValueError will unwind the thread; the error is logged once but auto-r
   Category: debugging
   Steps: 1
     1. [debugging] Ensure the polling loop catches ValueError (and OSError) and...

8. If inner-class references lose their full dotted path after migration serialization (e.g., MySettings.MyField) → Django's migration serializer relied on __name__ which omits the enclosing class; inner classes need
   Category: refactoring
   Steps: 1
     1. [refactoring] In {module}/serializer.py locate ClassSerializer.serialize_c...

9. When a custom Field subclass nested inside another class deconstructs to an underspecified string path → The deconstruct method copies cls.__name__ that is stored on the field instance; only __qualname__ r
   Category: debugging
   Steps: 1
     1. [debugging] Ensure the field’s __init__ stores __qualname__ (self.__clas...

10. If running makemigrations creates apparently correct code that later crashes with 'module attribute not found' on an inner-class field → The field’s serialized path lacks parent class information; migrations import from a path that canno
   Category: configuration
   Steps: 1
     1. [configuration] Validate that the serialized path from the migrations file e...

11. When encountering optional URL parameters that work in Django 2.x but break in Django 3.x+ → The URL resolver changed behavior on how it matches optional named groups
   Category: debugging
   Steps: 1
     1. [debugging] Check the resolver logic in django/urls/resolvers.py - speci...

12. When optional URL parameters cause 'function takes exactly X positional arguments' errors → Optional regex groups (?P<name>...) don't automatically create optional parameters - they still requ
   Category: api_usage
   Steps: 1
     1. [api_usage] Use (?P<name>...)? with the outer quantifier to make both th...

13. When reverse URL resolution tests fail after changing optional parameter handling → Test cases in tests/urlpatterns_reverse/tests.py include scenarios for optional parameters that may 
   Category: testing
   Steps: 1
     1. [testing] Run 'pytest tests/urlpatterns_reverse/tests.py -k "optional"...

14. When regex optional groups (?P<name>...)? don't match expected behavior → The resolver needs to distinguish between optional groups that don't appear in the URL vs empty capt
   Category: debugging
   Steps: 1
     1. [debugging] In the resolver, check if the match group for an optional pa...