{"kind": "ObservationEvent", "id": "754dcba8-4330-4ece-853e-2b58bbf8af07", "timestamp": "2025-09-25T20:10:41.831004", "source": "environment", "tool_name": "str_replace_editor", "tool_call_id": "toolu_01AKmgvvZZ5Bguo7TiXXhXeU", "observation": {"kind": "StrReplaceEditorObservation", "command": "view", "output": "Here's the result of running `cat -n` on /tmp/tmpbocki6mc/astropy/astropy/io/fits/diff.py:\n     1\t# Licensed under a 3-clause BSD style license - see LICENSE.rst\n     2\t\"\"\"\n     3\tFacilities for diffing two FITS files.  Includes objects for diffing entire\n     4\tFITS files, individual HDUs, FITS headers, or just FITS data.\n     5\t\n     6\tUsed to implement the fitsdiff program.\n     7\t\"\"\"\n     8\timport fnmatch\n     9\timport glob\n    10\timport io\n    11\timport operator\n    12\timport os\n    13\timport os.path\n    14\timport textwrap\n    15\tfrom collections import defaultdict\n    16\tfrom inspect import signature\n    17\tfrom itertools import islice\n    18\t\n    19\timport numpy as np\n    20\t\n    21\tfrom astropy import __version__\n    22\tfrom astropy.utils.diff import (\n    23\t    diff_values,\n    24\t    fixed_width_indent,\n    25\t    report_diff_values,\n    26\t    where_not_allclose,\n    27\t)\n    28\tfrom astropy.utils.misc import NOT_OVERWRITING_MSG\n    29\t\n    30\tfrom .card import BLANK_CARD, Card\n    31\t\n    32\t# HDUList is used in one of the doctests\n    33\tfrom .hdu.hdulist import HDUList, fitsopen  # pylint: disable=W0611\n    34\tfrom .hdu.table import _TableLikeHDU\n    35\tfrom .header import Header\n    36\tfrom .util import path_like\n    37\t\n    38\t__all__ = [\n    39\t    \"FITSDiff\",\n    40\t    \"HDUDiff\",\n    41\t    \"HeaderDiff\",\n    42\t    \"ImageDataDiff\",\n    43\t    \"RawDataDiff\",\n    44\t    \"TableDataDiff\",\n    45\t]\n    46\t\n    47\t# Column attributes of interest for comparison\n    48\t_COL_ATTRS = [\n    49\t    (\"unit\", \"units\"),\n    50\t    (\"null\", \"null values\"),\n    51\t    (\"bscale\", \"bscales\"),\n    52\t    (\"bzero\", \"bzeros\"),\n    53\t    (\"disp\", \"display formats\"),\n    54\t    (\"dim\", \"dimensions\"),\n    55\t]\n    56\t\n    57\t\n    58\tclass _BaseDiff:\n    59\t    \"\"\"\n    60\t    Base class for all FITS diff objects.\n    61\t\n    62\t    When instantiating a FITS diff object, the first two arguments are always\n    63\t    the two objects to diff (two FITS files, two FITS headers, etc.).\n    64\t    Instantiating a ``_BaseDiff`` also causes the diff itself to be executed.\n    65\t    The returned ``_BaseDiff`` instance has a number of attribute that describe\n    66\t    the results of the diff operation.\n    67\t\n    68\t    The most basic attribute, present on all ``_BaseDiff`` instances, is\n    69\t    ``.identical`` which is `True` if the two objects being compared are\n    70\t    identical according to the diff method for objects of that type.\n    71\t    \"\"\"\n    72\t\n    73\t    def __init__(self, a, b):\n    74\t        \"\"\"\n    75\t        The ``_BaseDiff`` class does not implement a ``_diff`` method and\n    76\t        should not be instantiated directly. Instead instantiate the\n    77\t        appropriate subclass of ``_BaseDiff`` for the objects being compared\n    78\t        (for example, use `HeaderDiff` to compare two `Header` objects.\n    79\t        \"\"\"\n    80\t        self.a = a\n    81\t        self.b = b\n    82\t\n    83\t        # For internal use in report output\n    84\t        self._fileobj = None\n    85\t        self._indent = 0\n    86\t\n    87\t        self._diff()\n    88\t\n    89\t    def __bool__(self):\n    90\t        \"\"\"\n    91\t        A ``_BaseDiff`` object acts as `True` in a boolean context if the two\n    92\t        objects compared are different.  Otherwise it acts as `False`.\n    93\t        \"\"\"\n    94\t        return not self.identical\n    95\t\n    96\t    @classmethod\n    97\t    def fromdiff(cls, other, a, b):\n    98\t        \"\"\"\n    99\t        Returns a new Diff object of a specific subclass from an existing diff\n   100\t        object, passing on the values for any arguments they share in common\n", "path": "/tmp/tmpbocki6mc/astropy/astropy/io/fits/diff.py", "prev_exist": true}, "action_id": "cd16537d-8f90-4495-b7fe-e535474879b5"}